@using CoffeeTunes.Contracts.Bars

<div class="view-switcher">
    <button class="view-tab @(ActiveView == ViewBrewing ? "active" : "")" @onclick="@(() => OnViewChange.InvokeAsync(ViewBrewing))">
        <span class="tab-icon">ğŸ”¥</span>
        <span>Brewing</span>
    </button>
    <button class="view-tab @(ActiveView == ViewIngredients ? "active" : "")" @onclick="@(() => OnViewChange.InvokeAsync(ViewIngredients))">
        <span class="tab-icon">ğŸ§ª</span>
        <span>Ingredients</span>
    </button>
    <button class="view-tab @(ActiveView == ViewStats ? "active" : "")" @onclick="@(() => OnViewChange.InvokeAsync(ViewStats))">
        <span class="tab-icon">ğŸ“Š</span>
        <span>Stats</span>
    </button>
    @if (!Bar.HasSupplyLeft)
    {
        <button class="view-tab @(ActiveView == ViewPlaylist ? "active" : "")" @onclick="@(() => OnViewChange.InvokeAsync(ViewPlaylist))">
            <span class="tab-icon">ğŸµ</span>
            <span>Playlist</span>
        </button>
    }
</div>

@code {
    public const string ViewBrewing = "brewing";
    public const string ViewIngredients = "ingredients";
    public const string ViewStats = "stats";
    public const string ViewPlaylist = "playlist";

    [Parameter]
    public required string ActiveView { get; set; }

    [Parameter]
    public required EventCallback<string> OnViewChange { get; set; }

    [Parameter]
    public required BarContract Bar { get; set; }
}
